#if UNITY_2017

using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.EventSystems;

#if UNITY_EDITOR
using NUnit.Framework;
using UnityEngine.TestTools;

[Category("StrixLibrary")]
public class UGUI_인풋패널_테스트 : CUGUIPanelHasInputBase<UGUI_인풋패널_테스트.EInput>
{
    public enum EInput
    {
        None, Button_Test, Button_Test2,
    }
    static EInput eLastInput;

    [UnityTest]
    public IEnumerator 인풋입력테스트()
    {
        EventSystem.current = new GameObject().AddComponent<EventSystem>();
        UGUI_인풋패널_테스트 pTestPanel = new GameObject().AddComponent<UGUI_인풋패널_테스트>();
        Button pButtonTest = new GameObject(EInput.Button_Test.ToString()).AddComponent<Button>();
        Button pButtonTest2 = new GameObject(EInput.Button_Test2.ToString()).AddComponent<Button>();

        pButtonTest.transform.SetParent(pTestPanel.transform);
        pButtonTest2.transform.SetParent(pTestPanel.transform);
        pTestPanel.EventOnAwake_Force();

        eLastInput = EInput.None;
        Assert.AreEqual(eLastInput, EInput.None);

        pButtonTest.OnPointerClick(new PointerEventData(EventSystem.current));
        Assert.AreEqual(eLastInput, EInput.Button_Test);

        pButtonTest2.OnPointerClick(new PointerEventData(EventSystem.current));
        Assert.AreEqual(eLastInput, EInput.Button_Test2);

        yield break;
    }

    public override void OnButtons_Click(EInput eButtonName) { eLastInput = eButtonName; }
}
#endif
#endif